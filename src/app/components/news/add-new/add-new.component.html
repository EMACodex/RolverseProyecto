<div class="page-background">

  <div class="news-form-container">
    <h2>Agregar nueva noticia</h2>

    <form [formGroup]="newsForm" (ngSubmit)="onSubmit()" class="news-form">
      <!-- Título -->
      <label for="title">Título *</label>
      <input id="title" type="text" formControlName="title" required />

      <!-- Fecha -->
      <label>Fecha de creación</label>
      <input type="text" [value]="fechaActual" disabled />

      <!-- Imagen -->
      <label for="image">Imagen</label>
      <input id="image" type="file" (change)="onImageSelected($event)" />

      <!-- Vista previa -->
      @if (imagePreview) {
      <div class="image-preview">
        <img [src]="imagePreview" alt="Vista previa de imagen" />
      </div>
      }

      <!-- Contenido (descripción completa) -->
      <label for="content">Descripción *</label>
      <textarea
        id="content"
        rows="8"
        formControlName="content"
        required
      ></textarea>

      <button class="rpg-login-button" type="submit">Publicar noticia</button>
    </form>
    @if (errorMessage) {
    <div class="modal-backdrop">
      <div class="modal-window">
        <p>{{ errorMessage }}</p>
        <button class="rpg-login-button" (click)="closeError()">Cerrar</button>
      </div>
    </div>
    }
  </div>

</div>
